:root{--brand-blue: #007acc;--brand-blue--dark: #005fa3;--accent-green: #2ecc71;--accent-green--dark: #27ae60;--accent-red: #e74c3c;--accent-red--dark: #c0392b;--accent-yellow: #f1c40f;--accent-yellow--dark: #f39c12;--grey-100: #f8f9fa;--grey-200: #f5f7fa;--grey-300: #ccc;--grey-500: #666;--grey-700: #333;--bg-gradient: linear-gradient(135deg, #f5f7fa, #c3cfe2);--shadow-soft: 0 2px 5px rgba(0, 0, 0, .1);--shadow-modal: 0 2px 5px rgba(0, 0, 0, .2)}*,*:before,*:after{box-sizing:border-box;margin:0;padding:0}html,body{width:100%;height:100%;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;font-weight:400;background:var(--bg-gradient);display:flex;align-items:center;justify-content:center;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.container{display:grid;grid-template-columns:30% 1fr;height:100vh}.game-area{position:relative;background:url(/woodgrain2.jpg) repeat;display:flex;justify-content:center;align-items:center;min-width:768px}.stats{border-right:1px solid var(--grey-300);display:flex;flex-direction:column;gap:1rem;padding:1rem;align-items:center}.panel{width:100%;text-align:center;background:#fff;border:2px solid var(--grey-300);border-radius:8px;padding:1rem;box-shadow:var(--shadow-soft)}.account-panel h3{margin-bottom:.5rem;font-size:1.2em;color:var(--grey-700)}.account-panel div{margin:.3rem 0;font-size:1em;color:var(--grey-500)}#accountStatusHeader{position:relative;text-align:center;padding:.5em 0}.scoreboard{text-align:center}.scoreboard-row{display:grid;grid-template-columns:1fr 1fr 1fr;align-items:center;margin:.5rem 0}.scoreboard-row.header{font-weight:700;font-size:1.2em;border-bottom:1px solid var(--grey-300);padding-bottom:.5rem}.scoreboard-row.header .playerA{color:#28a745}.scoreboard-row.header .playerB{color:#dc3545}.scoreboard-row .label{font-style:italic;color:var(--grey-500)}.playerA.total,.playerB.total{font-size:2em;color:var(--brand-blue)}.scoreboard-row .turn,.scoreboard-row .roll{font-size:1em;color:var(--grey-500)}.chat-panel{background:var(--grey-100);padding:1rem;border-left:1px solid var(--grey-300);display:flex;flex-direction:column;box-shadow:var(--shadow-modal);position:fixed;top:0;right:0;bottom:0;width:min(420px,40vw);transform:translate(100%);opacity:0;pointer-events:none;transition:transform .3s ease,opacity .3s ease;z-index:100}.chat-panel.chat-panel--open{transform:translate(0);opacity:1;pointer-events:auto}.chat-panel-header{display:flex;align-items:center;justify-content:space-between;gap:.5rem;margin-bottom:1rem}.chat-panel-header h2{font-size:1.3em;color:var(--grey-700);margin:0}.chat-close{border:none;background:transparent;color:var(--grey-500);font-size:1.5rem;line-height:1;cursor:pointer;padding:.25rem}.chat-close:hover{color:var(--grey-700)}.chat-messages{flex:1;border:1px solid var(--grey-300);border-radius:4px;background:#fff;padding:.5rem;overflow-y:auto;margin-bottom:1rem;display:flex;flex-direction:column;gap:.75rem;scroll-behavior:smooth}.chat-input{width:100%;padding:.5rem;border:1px solid var(--grey-300);border-radius:4px;font-size:1em}.chat-message{background:var(--grey-200);border-radius:8px;padding:.6rem .8rem;box-shadow:var(--shadow-soft);color:var(--grey-700);max-width:100%;word-break:break-word}.chat-message-header{font-size:.75rem;font-weight:600;text-transform:uppercase;color:var(--grey-500);margin-bottom:.3rem}.chat-message-body{font-size:.95rem;line-height:1.4;margin:0}.chat-message--self{background:var(--brand-blue);color:#fff;margin-left:auto}.chat-message--self .chat-message-header{color:#ffffffd9}.chat-toggle{position:fixed;bottom:1.5rem;right:1.5rem;z-index:90;padding:.75rem 1.25rem;border-radius:999px;border:none;background:var(--brand-blue);color:#fff;font-weight:600;box-shadow:var(--shadow-soft);cursor:pointer}body.chat-overlay-open{overflow:hidden}.chat-toggle[hidden]{display:none}.chat-toggle{display:inline-flex;align-items:center;gap:.35rem}@media (max-width: 768px){.chat-panel{max-width:100vw;width:100vw;border-left:none}}@media (min-width: 769px){.chat-toggle{top:1.5rem;bottom:auto}}.action-buttons{display:flex;gap:1rem;justify-content:center;margin-top:1rem}.action-button{color:#fff;font-size:1em;padding:.75rem 1.5rem;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.btn-green{background:var(--accent-green)}.btn-green:hover{background:var(--accent-green--dark)}.btn-red{background:var(--accent-red)}.btn-red:hover{background:var(--accent-red--dark)}.btn-yellow{background:var(--accent-yellow);color:var(--grey-700)}.btn-yellow:hover{background:var(--accent-yellow--dark)}.btn-tiny{padding:0;margin-left:.3rem;font-size:1rem}.btn-tiny:active{transform:rotate(180deg)}.check-icon,.error-icon{display:inline-block;width:50px;height:50px;position:relative}.error-icon:before,.error-icon:after{content:"";position:absolute;top:50%;left:0;width:100%;height:4px;background:#dc3545;transform-origin:center}.error-icon:before{transform:translateY(-50%) rotate(45deg)}.error-icon:after{transform:translateY(-50%) rotate(-45deg)}.check-icon{font-size:50px;color:#28a745;display:block;margin:0 auto 1rem}#logout{position:absolute;right:0;top:50%;transform:translateY(-50%);font-size:.6em;padding:.2em .5em;background:transparent;border:none;cursor:pointer;color:var(--brand-blue);transition:color .3s}#logout:hover{color:var(--brand-blue--dark)}.dice-container{display:flex;justify-content:center;margin-bottom:1em}.die{width:60px;height:60px;background:#fff;border:2px solid var(--grey-700);border-radius:8px;display:grid;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(3,1fr);gap:4px;padding:8px;margin:0 1em 0 0;cursor:pointer;user-select:none;position:relative}.die.active{background:var(--brand-blue);color:#fff}.pip{width:10px;height:10px;background:var(--grey-700);border-radius:50%;justify-self:center;align-self:center;pointer-events:none}.p1 .pip:nth-child(1){grid-column:2;grid-row:2}.p2 .pip:nth-child(1){grid-column:1;grid-row:1}.p2 .pip:nth-child(2){grid-column:3;grid-row:3}.p3 .pip:nth-child(1){grid-column:1;grid-row:1}.p3 .pip:nth-child(2){grid-column:2;grid-row:2}.p3 .pip:nth-child(3){grid-column:3;grid-row:3}.p4 .pip:nth-child(1){grid-column:1;grid-row:1}.p4 .pip:nth-child(2){grid-column:1;grid-row:3}.p4 .pip:nth-child(3){grid-column:3;grid-row:1}.p4 .pip:nth-child(4){grid-column:3;grid-row:3}.p5 .pip:nth-child(1){grid-column:1;grid-row:1}.p5 .pip:nth-child(2){grid-column:1;grid-row:3}.p5 .pip:nth-child(3){grid-column:2;grid-row:2}.p5 .pip:nth-child(4){grid-column:3;grid-row:1}.p5 .pip:nth-child(5){grid-column:3;grid-row:3}.p6 .pip:nth-child(1){grid-column:1;grid-row:1}.p6 .pip:nth-child(2){grid-column:1;grid-row:2}.p6 .pip:nth-child(3){grid-column:1;grid-row:3}.p6 .pip:nth-child(4){grid-column:3;grid-row:1}.p6 .pip:nth-child(5){grid-column:3;grid-row:2}.p6 .pip:nth-child(6){grid-column:3;grid-row:3}.waiting-modal{display:none;position:fixed;inset:0;z-index:100;background:#00000080;justify-content:center;align-items:center}.waiting-modal-content{position:relative;background:#fff;padding:2rem;overflow:scroll;border-radius:8px;text-align:center;box-shadow:var(--shadow-modal);max-width:300px;width:90%}.waiting-modal-content .close-button{position:absolute;top:8px;right:8px;width:24px;height:24px;background:transparent;border:none;font-size:20px;line-height:1;color:#555;cursor:pointer;padding:0}.waiting-modal-content .close-button:hover{color:#333}.spinner{border:4px solid #f3f3f3;border-top:4px solid var(--brand-blue);width:40px;height:40px;border-radius:50%;margin:0 auto 1rem;animation:spin 1s linear infinite}.dice-panel{position:absolute;left:50%;bottom:20px;transform:translate(-50%);background:#fff;padding:1rem;border-radius:8px;box-shadow:var(--shadow-modal);width:90%;max-width:500px;z-index:50}.dice-panel h2{margin-bottom:1rem;text-align:center;font-size:1.5em;color:#333}.modal-buttons{display:flex;gap:1rem;justify-content:center}.rules-modal{display:none;position:fixed;inset:0;z-index:120;background:#0009;justify-content:center;align-items:center}.rules-modal-content{position:relative;width:90%;max-width:900px;max-height:90vh;background:#fff;border-radius:8px;box-shadow:0 4px 12px #00000040;padding:2rem 2.5rem;overflow-y:auto;font-size:.95rem;line-height:1.5}.rules-modal-content h3{color:var(--brand-blue)}.rules-modal-content .close-button{position:absolute;top:10px;right:12px;font-size:24px;background:transparent;border:none;color:var(--grey-700);cursor:pointer;padding:0;line-height:1}.rules-modal-content .close-button:hover{color:var(--grey-500)}.waiting-modal,.rules-modal,.dice-panel,.popup,.top-popup{display:none}@keyframes spin{to{transform:rotate(360deg)}}@keyframes fadeInPopup{0%{bottom:-100px;opacity:0}to{bottom:50%;opacity:1}}@keyframes fadeOutPopup{0%{opacity:1}to{opacity:0}}@keyframes fadeInOut{0%{opacity:0;transform:translateY(10px)}20%,80%{opacity:1;transform:translateY(0)}to{opacity:0;transform:translateY(-10px)}}@keyframes slideInTop{0%{top:-100px;opacity:0}20%,80%{top:20px;opacity:1}to{top:-100px;opacity:0}}.popup{position:fixed;left:50%;bottom:-100px;transform:translate(-50%);background:#0009;color:#fff;padding:1rem 2rem;border-radius:8px;opacity:0;z-index:200;pointer-events:none}.popup.show{animation:fadeInPopup .5s ease-out forwards}.popup.hide{animation:fadeOutPopup .5s ease-out forwards}.top-popup{display:block;position:fixed;top:-100px;left:50%;transform:translate(-50%);width:90%;max-width:400px;background:#fff;color:var(--grey-700);padding:1rem;border-radius:4px;box-shadow:0 2px 8px #0003;overflow-wrap:break-word;opacity:0;z-index:1000}.top-popup.show{animation:slideInTop 3s ease forwards;opacity:.9}.balance-change{position:absolute;font-size:larger;color:#fff;pointer-events:none;animation:fadeInOut 2.5s ease forwards}.balance-change.loss{color:#c80000}.balance-change.win{color:#00c800}.footer{position:fixed;bottom:0;left:0;right:0;z-index:100;background:#333;color:#fff;font-size:.9em;padding:5px 10px;text-align:left}.status-icon{margin-right:.5em}.status-icon.connected:before{content:"✅"}.status-icon.disconnected:before{content:"❌";cursor:pointer}.status-icon.connecting{display:inline-block;width:1em;height:1em;border:2px solid #fff;border-top:2px solid transparent;border-radius:50%;margin-right:.5em;animation:spin 1s linear infinite}@media only screen and (max-width: 768px){.container{display:flex;flex-direction:column}.stats,.game-area,.chat-panel{border:none;box-shadow:none}.panel{max-width:768px}.stats{border-bottom:1px solid var(--grey-300)}.chat-panel{border-top:1px solid var(--grey-300)}.method-buttons{grid-template-columns:1fr}#methodFreighter,label[for=methodFreighter]{display:none}}@media only screen and (max-width: 480px){.game-area{display:none}.mobile-game-area{display:block}.mobile-game-area .dice-roll-container{flex-wrap:nowrap;overflow-x:auto;-webkit-overflow-scrolling:touch}.dice-container .die{flex:0 0 60px;-webkit-transform:scale(.5);-moz-transform:scale(.5);-ms-transform:scale(.5);transform:scale(.5);margin:0}.dice-roll-container{background:#fff;border:2px solid var(--grey-300);border-radius:8px;padding:1rem;box-shadow:var(--shadow-soft);z-index:60;display:none}.dice-roll-container .dice-container{display:flex;margin:auto;flex-shrink:0;justify-content:center;gap:0}.mobile-game-area .dice-roll-container .dice-container{cursor:none}@media (min-width: 769px){.dice-roll-container{display:none!important}}}@media (min-width: 769px){.mobile-game-area{display:none}}@media (max-width: 600px){.rules-modal-content{padding:1.25rem}.rules-modal-content .close-button{font-size:28px;top:6px;right:8px}.rules-modal-content .action-button{width:100%;padding:.9rem 0}}.loginContainer{width:90%;max-width:400px;background:#fff;border:1px solid #ccc;border-radius:8px;padding:2rem;box-shadow:0 2px 5px #0000001a}h1{text-align:center;margin-bottom:1.5rem}label{display:block;margin-bottom:.5rem;font-weight:700}input[type=text],input[type=password]{width:100%;padding:.75rem;font-size:1rem;margin-bottom:1rem;border:1px solid #ccc;border-radius:4px}.method-buttons{display:grid;grid-template-columns:1fr 1fr 1fr;gap:.5rem;margin-bottom:1rem}.method-buttons input[type=radio]{display:none}.method-buttons label{text-align:center;padding:.5rem;border:1px solid #007acc;border-radius:4px;cursor:pointer;transition:background-color .3s ease;font-size:.9em;white-space:normal;word-wrap:break-word}.method-buttons input[type=radio]:checked+label{background-color:#007acc}#importKeyField{display:none}.submit-btn{width:100%;padding:.75rem;font-size:1rem;background-color:#28a745;border:none;color:#fff;border-radius:4px;cursor:pointer;transition:background-color .3s ease}.submit-btn:hover{background-color:#218838}@media (max-width: 768px){.method-buttons{grid-template-columns:1fr}#methodFreighter,label[for=methodFreighter]{display:none}}
